# 🔥 火柴人对战游戏 (Stickman Fighter)

**版本: V2.6 - 创意武器系统版**

一个基于 Web 的火柴人对战小游戏，支持双人在线对战！新增6种独特武器系统！

> 🎮 **在线试玩**: [点击查看部署地址](#部署指南) | 📚 **详细文档**: [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) | 📊 **项目总结**: [PROJECT_SUMMARY.md](PROJECT_SUMMARY.md)

## ✨ 特性

### 🆕 V2.6 新增 - 创意武器系统
- 🔥 **火焰剑** - 15伤害 + 燃烧持续伤害
- ⚡ **闪电锤** - 20伤害 + 击退 + 眩晕
- 🧊 **冰霜弓** - 12伤害 + 减速效果
- 💎 **钻石匕首** - 25伤害 + 暴击
- 🪓 **战斧** - 22伤害 + 重击
- 🎯 **回旋镖** - 18伤害 + 特殊效果

### 🎯 核心功能
- 🎯 **双人对战** - 本地键盘控制，支持双人同屏对战
- 🌐 **Web版本** - 基于 HTML5 Canvas，浏览器直接运行
- ⚡ **实时战斗** - 流畅的物理系统和攻击判定
- 🎨 **精美界面** - 响应式设计，适配各种设备
- 🐳 **容器化** - 支持 Docker 一键部署
- ☁️ **多平台** - 支持 7+ 云平台部署

### 🎮 游戏机制
- ✅ **自动掉落** - 武器每5-10秒随机掉落
- ✅ **耐久系统** - 每件武器有耐久度限制
- ✅ **特殊效果** - 燃烧、击退、减速、暴击、眩晕
- ✅ **状态显示** - 顶部UI实时显示武器状态
- ✅ **拾取机制** - 靠近自动拾取，无需按键

## 🚀 快速开始

### 方式1: 本地运行 (最简单)

```bash
# 1. 安装依赖
pip install -r requirements.txt

# 2. 运行游戏
python app.py

# 3. 浏览器访问
# 打开: http://localhost:5000
```

### 方式2: Docker 部署

```bash
# 1. 启动服务
docker-compose up -d --build

# 2. 访问游戏
# 打开: http://localhost:5000
```

### 方式3: 云平台部署

```bash
# 使用部署助手
./deploy.sh
# 选择: Heroku / Railway / Render / Fly.io 等
```

## 🎮 游戏控制

| 玩家1 (红色) | 玩家2 (蓝色) |
|-------------|-------------|
| `W` - 跳跃 | `↑` - 跳跃 |
| `A` - 左移 | `←` - 左移 |
| `D` - 右移 | `→` - 右移 |
| `F` - 出拳/武器 | `J` - 出拳/武器 |
| `G` - 踢腿 | `K` - 踢腿 |

**其他操作:**
- `R` - 重新开始
- `ESC` - 暂停/继续
- **武器拾取** - 靠近自动拾取（无需按键）
- **武器使用** - 装备武器后按 F/J 键

**底部功能按钮:**
- 🖥️ 全屏 - 切换全屏模式
- ⏸️ 暂停 - 暂停/继续游戏
- 🤖 AI - 开启/关闭AI对战
- 💀 硬核 - 开启/关闭硬核模式（伤害翻倍）
- 🔄 重置 - 重置游戏
- ⚔️ 武器 - 查看武器系统说明

## 🎯 游戏机制

### 战斗系统
| 攻击类型 | 伤害 | 体力消耗 | 冷却 | 范围 | 特效 |
|---------|------|---------|------|------|------|
| 出拳 | 8 | 10 | 20帧 | 40px | 基础攻击 |
| 踢腿 | 12 | 15 | 25帧 | 50px | 击退效果 |
| **武器攻击** | 12-25 | 15 | 25帧 | 60px | 特殊效果 |

### ⚔️ 武器系统 (V2.6)
**掉落机制:**
- 每 5-10 秒自动掉落
- 随机位置生成
- 靠近自动拾取
- 存在时间限制

**武器详情:**
- 🔥 **火焰剑** (15伤害) - 燃烧: 持续2秒，每秒1点伤害
- ⚡ **闪电锤** (20伤害) - 击退+眩晕: 击退8px，眩晕1.3秒
- 🧊 **冰霜弓** (12伤害) - 减速: 移动速度减半，持续3秒
- 💎 **钻石匕首** (25伤害) - 暴击: 30%概率2倍伤害
- 🪓 **战斧** (22伤害) - 重击: 高伤害
- 🎯 **回旋镖** (18伤害) - 特殊效果

**耐久系统:**
- 每件武器有耐久度 (3-6次)
- 使用武器消耗耐久
- 耐久耗尽武器消失
- 顶部UI显示武器状态

### 连击系统
- 连续攻击累积连击数
- 每次连击提升 10% 伤害 (最高 2倍)
- 1秒内未攻击则重置
- 3连击以上显示特效提示

### 物理系统
- 真实重力模拟
- 跳跃和地面碰撞
- 边界限制
- 击退速度: 3-8 (根据攻击类型)

### 特殊效果
- **燃烧**: 持续伤害
- **击退**: 击飞对手
- **减速**: 移动速度减半
- **暴击**: 2倍伤害
- **眩晕**: 无法行动

### UI 显示
- 生命值条 (红色)
- 体力条 (蓝色)
- 实时数值显示
- 武器状态指示器
- 连击提示
- 特殊效果视觉反馈

## 📁 项目结构

```
.
├── app.py                    # Flask Web 应用 (主程序)
├── stickman_fighter.py       # Pygame 桌面版 (可选)
├── requirements.txt          # Python 依赖
├── Dockerfile               # Docker 镜像配置
├── docker-compose.yml       # Docker 编排
├── deploy.sh                # 一键部署脚本
├── Procfile                 # Heroku 配置
├── VERCEL.json              # Vercel 配置
├── README.md                # 本文件
├── DEPLOYMENT_GUIDE.md      # 详细部署指南
├── 快速开始.md              # 快速启动指南
└── .gitignore               # Git 忽略文件
```

## 🐳 Docker 支持

### 构建和运行
```bash
# 构建镜像
docker build -t stickman-fighter .

# 运行容器
docker run -p 5000:5000 stickman-fighter

# 或使用 docker-compose
docker-compose up -d --build
```

### 常用命令
```bash
docker-compose logs -f      # 查看日志
docker-compose down         # 停止服务
docker-compose restart      # 重启服务
```

## ☁️ 支持的云平台

| 平台 | 难度 | 费用 | 状态 |
|------|------|------|------|
| **Heroku** | ⭐⭐ | 免费 | ✅ 支持 |
| **Railway** | ⭐⭐ | 免费/付费 | ✅ 支持 |
| **Render** | ⭐⭐ | 免费750h/月 | ✅ 支持 |
| **Fly.io** | ⭐⭐⭐ | 免费/付费 | ✅ 支持 |
| **Vercel** | ⭐⭐ | 免费 | ✅ 支持 |
| **自托管** | ⭐⭐⭐⭐ | 服务器费用 | ✅ 支持 |
| **Docker** | ⭐⭐ | 免费 | ✅ 支持 |

详细部署指南: [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)

## 🔧 API 端点

应用提供以下 API 端点:

- `GET /` - 游戏主界面
- `GET /api/health` - 健康检查
- `GET /api/stats` - 游戏统计信息

## 🛠️ 技术栈

- **后端**: Python Flask
- **前端**: HTML5 Canvas + JavaScript
- **部署**: Docker / 云平台
- **测试**: 本地浏览器

## 📊 性能优化

- ✅ 轻量级 Canvas 渲染
- ✅ 高效的碰撞检测
- ✅ 优化的动画循环
- ✅ 响应式设计
- ✅ 实时音效生成 (Web Audio API)

## 🎯 使用场景

- 🏠 **家庭娱乐** - 双人同屏对战
- 🎓 **教学演示** - 游戏开发入门
- 💻 **编程学习** - Python + Web 开发
- 🚀 **项目展示** - 云部署演示
- 🎮 **武器系统演示** - 特殊效果展示

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 本仓库
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📝 开发计划

### ✅ 已完成 (V2.6)
- [x] 创意武器系统 (6种武器)
- [x] 特殊效果 (燃烧、击退、减速、暴击、眩晕)
- [x] 自动掉落机制
- [x] 耐久度系统
- [x] 武器状态UI显示
- [x] 侧边控制面板
- [x] 全屏模式
- [x] 游戏循环永不停止

### 🔜 未来计划
- [ ] 更多武器类型
- [ ] 武器合成系统
- [ ] 联机对战功能
- [ ] 角色皮肤系统
- [ ] 排行榜
- [ ] 移动端触控优化

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🙏 致谢

- 感谢 Pygame 和 Flask 社区
- 感谢所有贡献者的支持

---

**🎮 开始游戏**: `python app.py`

**📚 更多信息**: 查看 [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) 或 [快速开始.md](快速开始.md)

**🌟 如果这个项目对你有帮助，请给个 Star！**
